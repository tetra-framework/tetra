{% extends 'base.html' %}{% load i18n %}
{% load demo_tags tetra static %}

{% block title %}{{ block.super }} - Full stack reactive component framework for Django using Alpine.js{% endblock %}
{% block body_class %}bg-light{% endblock %}

{% block content %}
  <div class="py-3 my-5 text-center">
    <div>
      <div class="d-inline-block position-relative">
        <img src="{% static "logo.svg" %}" alt="Tetra" class="main-logo mb-3">
        <span class="badge bg-warning text-dark small d-inline-block position-absolute"
              style="top: -0.5rem; right: -2.5rem; transform: rotate(5deg);"
        >
          Alpha v{% tetra_version %}
        </span>
      </div>
    </div>
    <h4 class="display-7">{% blocktranslate %}Full stack reactive component framework for <a href="http://djangoproject.com">Django</a> using <a href="https://alpinejs.dev">Alpine.js</a>{% endblocktranslate %}</h4>
    <div class="col-lg-7 mx-auto">
      <p class="lead mb-4">
        {% blocktranslate %}Tetra is a new <mark>full stack component framework</mark> for Django, bridging the gap between your server logic and front end presentation.
          It uses a <mark>public shared state</mark> and a <mark>resumable server state</mark> to enable <mark>inplace reactive updates</mark>. It also encapsulates your Python, HTML, JavaScript and CSS into one file or directory for <mark>proximity of related concerns</mark>.{% endblocktranslate %}
      </p>
      <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
        <a href="#features" class="btn btn-light btn-lg px-4">
          {% translate "Features" %}
        </a>
        <a href="https://tetra.readthedocs.org" class="btn btn-primary btn-lg px-4 gap-3">
          <i class="fa-solid fa-arrow-right"></i>
          {% translate "Get Started" %}
        </a>
        <a href="https://github.com/tetra-framework/tetra" class="btn btn-light btn-lg px-4">
          <i class="fa-brands fa-github"></i>
          {% translate "GitHub" %}
        </a>
        <a href="/examples" class="btn btn-light btn-lg px-4">
          {% translate "Examples" %}
        </a>
      </div>
    </div>
  </div>

  {% ShowCase title=_("See how easy it is to build a <mark>todo list</mark>") %}
  {% slot code %}{% comment %}The code blocks don't need translation.{% endcomment %}
    {% CodeBlock title=_("Python: Todo List") file_name="todo_list/__init__.py" language="python" / %}
    {% CodeBlock title=_("Python: Todo Item") file_name="todo_item/__init__.py" language="python" / %}

    {% CodeBlock title=_("HTML: Todo List") file_name="todo_list/todo_list.html" language="django" / %}
    {% CodeBlock title=_("HTML: Todo Item") file_name="todo_item/todo_item.html" language="django" / %}

    {% CodeBlock title="CSS" file_name="todo_item/todo_item.css" language="css" / %}
    {% CodeBlock title="Javascript" file_name="todo_item/todo_item.js" language="javascript" / %}

    {% CodeBlock title=_("Python: Models") file_name="todo_models.py" language="python" / %}
  {% endslot %}
  {% slot description %}
    {% TodoList / %}
  {% endslot %}
  {% /ShowCase %}


  {% ShowCase title=_("Or a reactive server rendered search component:") %}
  {% slot code %}
    {% CodeBlock title=_("Python") file_name="reactive_search.py" language="python" / %}
    {% CodeBlock title=_("HTML") file_name="reactive_search.html" language="django" / %}
  {% endslot %}
  {% slot description %}
    {% ReactiveSearch / %}
  {% endslot %}
  {% /ShowCase %}



  {% ShowCase title=_("Or a counter, but with multiple nested instances.") %}
  {% slot code %}
    {% CodeBlock title=_("Python") file_name="counter.py" language="python" / %}
    {% CodeBlock title=_("Django Template") file_name="counter.index.html" language="django" / %}
  {% endslot %}
  {% slot description %}
    {% include "counter.index.html" %}
  {% endslot %}
  {% /ShowCase %}

  {% ShowCase title=_("Or a simple card, with dynamic content.") %}
  {% slot code %}
    {% CodeBlock title=_("Python") file_name="info_card.py" language="python" / %}
    {% CodeBlock title=_("Django Template") language="django" / %}
  {% endslot %}
  {% slot description %}
    {% InfoCard / %}
  {% endslot %}
  {% /ShowCase %}

  {% ShowCase title=_("Not convinced? How about a reactive news ticker with push notifications?") %}
  {% slot code %}
    {% CodeBlock title=_("Python") file_name="news_ticker.py" language="python" / %}
    {% CodeBlock title=_("HTML") file_name="news_ticker.index.html" language="django" / %}
    {% CodeBlock title=_("Django Template") language="django" %}{% verbatim %}{% NewsTicker subscribe="notifications.news.headline" %}{% endverbatim %}{% /CodeBlock %}
    {% CodeBlock title=_("Async server code") file_name="news_ticker.index.html" language="python" %}{% verbatim %}while True:
    count = await BreakingNews.objects.acount()
    offset = random.randint(0, count - 1)
    news = await BreakingNews.objects.all()[offset : offset + 1].aget()

    await ComponentDispatcher.update_data(
      "notifications.news.headline", {
        "headline": news.title,
      },
    )
    await asyncio.sleep(5)
    {% endverbatim %}{% /CodeBlock %}
  {% endslot %}
  {% slot description %}
    <div class="text-muted">
      {% translate "The following (partly fake) news line is not polled, but pushed from the server to all connected clients simultaneously each 10 seconds." %}
    </div>
    {% NewsTicker subscribe="notifications.news.headline" / %}
    <div class="text-muted mt-2">
      {% blocktranslate %}
        This might look trivial, you could do that with polling too. But Tetra is smarter than that.<br/>
        <a href="." target="_blank">Open multiple browsers/tabs with this very page</a>, even on your phone,
        and watch the news change simultaneously.<br/>
        An async django task worker is pushing the news to all connected clients.
      {% endblocktranslate %}
    </div>
  {% endslot %}

  {% /ShowCase %}



  <h4 class="text-center display-7 my-5" id="features">{% translate "What does Tetra do?" %}</h4>

  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4">
    {% Col %}
    {% slot title %}
      {% blocktranslate %}<a href="http://djangoproject.com">Django</a> on the  backend, <a href="https://alpinejs.dev">Alpine.js</a> in the browser{% endblocktranslate %}
    {% endslot %}
    {% slot default %}
      {% translate "Tetra combines the power of Django with Alpine.js to make development easier and  quicker." %}
    {% endslot %}
    {% /Col %}
    {% Col title=_("Component encapsulation") %}
    {% translate "Each component combines its Python, HTML, CSS and JavaScript in one place for close proximity of related code." %}
    {% /Col %}
    {% Col title=_("Async HTTP calls") %}
    {% translate "Server calls are asynchronous, ensuring the frontend remains responsive. Multiple, fast clicks on the same button are not dropped between HTTP calls." %}
    {% /Col %}
    {% Col title=_("Resumable server state") %}
    {% blocktranslate %}The components' full server state is saved between public method calls. This state is <a href="https://tetra.readthedocs.io/en/latest/state-security/">encrypted for security</a>.{% endblocktranslate %}
    {% /Col %}
    {% Col title=_("Public server methods") %}
    {% translate "Methods can be made public, allowing you to easily call them from JS on the front end, resuming the component's state." %}
    {% /Col %}
    {% Col title=_("Shared public state") %}
    {% translate "Attributes can be decorated to indicate they should be available in the browser as Alpine.js data objects." %}
    {% /Col %}
    {% Col title=_("Server \"watcher\" methods") %}
    {% translate "Public methods can be instructed to watch a public attribute, enabling reactive re-rendering on the server." %}
    {% /Col %}
    {% Col title=_("Inplace updating from the server") %}
    {% translate "Server methods can update the rendered component in place. Powered by the Alpine.js morph plugin." %}
    {% /Col %}
    {% Col title=_("Component library packaging") %}
    {% translate "Every component belongs to a \"library\"; their JS & CSS is packed together for quicker browser downloads." %}
    {% /Col %}
    {% Col title=_("Components with overridable slots") %}
    {% blocktranslate %}Components can have multiple <code>{% endblocktranslate %}{% verbatim %}{%&nbsp;slot(s)&nbsp;%}{% endverbatim  %}{% blocktranslate %}</code> which can be overridden when used.{% endblocktranslate %}
    {% /Col %}
    {% Col %}
    {% slot title %}
      {% blocktranslate %}JS/CSS builds using <a href="https://esbuild.github.io">esbuild</a>{% endblocktranslate %}
    {% endslot %}
    {% slot default %}
      {% blocktranslate %}Both for development (built into <code>runserver</code>) and production your JS & CSS is built with esbuild.{% endblocktranslate %}
    {% endslot %}
    {% /Col %}
    {% Col title=_("Source Maps") %}
    {% translate "Source maps are generated during development so that you can track down errors to the original Python files." %}
    {% /Col %}
    {% Col title=_("Syntax highlighting with type annotations") %}
    {% blocktranslate %}Tetra uses type annotations to syntax highlight your JS, CSS & HTML in your Python files with a <a href="https://github.com/samwillis/python-inline-source/tree/main/vscode-python-inline-source">VS Code plugin</a>{% endblocktranslate %}
    {% /Col %}
    {% Col title=_("Form components") %}
    {% translate "A simple replacement for Django's FormView, but due to Tetra's dynamic nature, e.g. a field can change its value or disappear depending on other fields' values." %}
    {% /Col %}
    {% Col title=_("Event subscriptions") %}
    {% translate "Both frontend and backend components can subscribe to JavaScript events, enabling seamless event-driven programming across the full stack." %}
    {% /Col %}
    {% Col title=_("File upload/downloads") %}
    {% translate "Whenever a form contains a FileField, Tetra makes sure the uploading process works smooth, even with page reloads." %}
    {% /Col %}
    {% Col title=_("Integration with Django Messages") %}
    {% translate "Django's messaging framework is deeply integrated into Tetra: Whenever a new message occurs, it is transformed into a JavaScript object and sent as an event that can be subscribed to by any component." %}
    {% /Col %}
    {% Col title=_("Loading indicators") %}
    {% translate "While an AJAX request is in flight, you can show a loading indicator, globally, per component, or per call." %}
    {% /Col %}
    {% Col title=_("Reactive components / realtime updates") %}
    {% translate "Component data can be updated from the server using websockets/push notification, even by async Django background tasks, Celery, signals etc." %}
    {% /Col %}
  </div>

  <h4 class="text-center display-7 my-5" id="features-planned">
    {% translate "More features are planned, including:" %}
  </h4>
  <p id="plans" class="text-center max-width mt-3">
    •&nbsp;{% translate "ModelComponent for bootstrapping standard CRUD interactions." %} &nbsp;
    •&nbsp;{% translate "Python type annotations" %} &nbsp;
    •&nbsp;{% translate "Integration with Django Validators" %} &nbsp;
    •&nbsp;{% blocktranslate %}Alpine.js directives for component state (<s>loading ✅</s>, offline  etc.){% endblocktranslate %} &nbsp;
    •&nbsp;{% blocktranslate %}Routing <s>and query strings ✅</s> for "whole page" components.{% endblocktranslate %} &nbsp;
    •&nbsp;{% translate "Page title and metadata in header." %} &nbsp;
    •&nbsp;{% translate "Pagination and Infinity Scroll components." %} &nbsp;
    •&nbsp;{% translate "PostCSS/SASS/etc. support." %} &nbsp;
    •&nbsp;{% translate "CSS scoped to a component." %} &nbsp;
    •&nbsp;{% translate "Redirect responses." %} &nbsp;
    •&nbsp;{% translate "Additional authentication tools." %} &nbsp;
    •&nbsp;{% translate "Integration with UI & component toolkits." %} &nbsp;
    •&nbsp;{% translate "Bundling of esbuild to be npm free." %} &nbsp;
  </p>

  <div class="text-center mt-4">
    <a href="https://tetra.readthedocs.org" class="btn btn-primary btn-lg px-4 gap-3">
      <i class="fa-solid fa-arrow-right"></i>
      {% translate "Read the Docs to get started" %}
    </a>
  </div>

{% endblock %}